# ============================================================
# E-Commerce End-to-End Pipeline - Python Requirements
# Pinned to versions verified on Python 3.11 (macOS/Linux)
# ============================================================

# ── Core Data ─────────────────────────────────────────────────
pandas==2.0.3
numpy==1.24.4
pyarrow==14.0.2

# ── MySQL ─────────────────────────────────────────────────────
mysql-connector-python==9.6.0
PyMySQL==1.1.2
SQLAlchemy==1.4.39
mysql-replication==1.0.15         # CDC / binlog streaming (replaces pymysqlreplication)

# ── Kafka ─────────────────────────────────────────────────────
confluent-kafka==2.13.0

# ── ClickHouse ────────────────────────────────────────────────
clickhouse-driver==0.2.10

# ── Faker (dummy data) ────────────────────────────────────────
Faker==19.6.2

# ── ML ────────────────────────────────────────────────────────
scikit-learn==1.3.0
xgboost==2.1.1
scipy==1.11.1
joblib==1.2.0

# ── FastAPI (BI product backend) ──────────────────────────────
fastapi==0.129.0
uvicorn[standard]==0.23.2
websockets==15.0.1
python-multipart==0.0.20

# ── Azure SDK ─────────────────────────────────────────────────
azure-storage-blob==12.19.0
azure-identity==1.15.0
azure-keyvault-secrets==4.7.0

# ── Databricks ────────────────────────────────────────────────
databricks-sdk==0.91.0
databricks-sql-connector==4.2.5   # 3.x required pyarrow>=14 (conflict); 4.x drops that pin

# ── Delta Lake (local testing) ────────────────────────────────
delta-spark==3.0.0

# ── Monitoring ────────────────────────────────────────────────
prometheus-client==0.19.0

# ── Testing ───────────────────────────────────────────────────
pytest==7.4.2
pytest-asyncio==0.21.1
httpx==0.25.0
